(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{13:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__23U4T",content:"dialogs_content__1sKK4",title:"dialogs_title__ztYBe",list:"dialogs_list__1itkt",list__item:"dialogs_list__item__3wBs6",list__item__link:"dialogs_list__item__link__3Km4D",chat:"dialogs_chat__2nsjC",message:"dialogs_message__2afJS",myMessage:"dialogs_myMessage__1-lQe",incomingMessage:"dialogs_incomingMessage__30KPP",actionMessage:"dialogs_actionMessage__2ScmO",textarea:"dialogs_textarea__gO8O5",btn:"dialogs_btn__5Ellc"}},156:function(e,t,n){},157:function(e,t,n){},25:function(e,t,n){e.exports={users:"users_users__JSNaV",user:"users_user__1PBMq",user__left:"users_user__left__1-RvU",user__info:"users_user__info__2PmmK",user__avatar:"users_user__avatar__-2OBm",btn:"users_btn__3onyB",btn__page:"users_btn__page__3xX_A",fullname:"users_fullname__1LagI",center:"users_center__T55Nl"}},28:function(e,t,n){e.exports={profile:"profile_profile__2N0Av",profile__user:"profile_profile__user__38wgP",avatar:"profile_avatar__2Ywxu",status:"profile_status__2tSQv",contact:"profile_contact__2MhYd",fName:"profile_fName__1cgc2",job:"profile_job__34Jrz",jobDescription:"profile_jobDescription__234I9",aboutMe:"profile_aboutMe__3iioL"}},280:function(e,t,n){"use strict";n.r(t);var s,a=n(1),r=n.n(a),i=n(63),c=n.n(i),o=(n(156),n(15)),l=n(16),u=n(18),d=n(17),j=(n(157),n(4)),b=n(9),f=n(10),h=n.p+"static/media/login.a0b70e93.svg",p=n.p+"static/media/logout.c2dce12f.svg",m=n(45),O=n(124),g=n.n(O).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"2d1a9782-1c79-4a80-ad06-fb14119baa7e"}}),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return g.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},x=function(e){return S.getUsersProfile(e)},v=function(e){return g.post("follow/".concat(e))},N=function(e){return g.delete("follow/".concat(e))},w=function(){return g.get("auth/me")},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return g.post("auth/login",{email:e,password:t,rememberMe:n})},P=function(){return g.delete("auth/login")},S={getUsersProfile:function(e){return g.get("profile/".concat(e))},getUserStatus:function(e){return g.get("profile/status/".concat(e))},updateUserStatus:function(e){return g.put("profile/status",{status:e})}},y="SET-AUTH-USER-DATA",I={userId:null,login:null,email:null,isAuth:!1},M=function(e,t,n,s){return{type:y,payload:{userId:e,login:t,email:n,isAuth:s}}},F=function(){return function(e){return w().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,a=n.login,r=n.email;e(M(s,a,r,!0))}}))}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},A=n(0),k=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:function(){return function(e){P().then((function(t){0===t.data.resultCode&&e(M(null,null,null,!1))}))}}})((function(e){return Object(A.jsx)("div",{children:e.isAuth?Object(A.jsxs)("button",{onClick:e.logout,children:[Object(A.jsx)("img",{src:p,alt:"\u0412\u044b\u0445\u043e\u0434"}),Object(A.jsx)("div",{children:e.login})]}):Object(A.jsxs)("button",{children:[Object(A.jsx)("img",{src:h,alt:"\u0412\u0445\u043e\u0434"}),Object(A.jsx)("div",{children:"\u0412\u0445\u043e\u0434"})]})})})),T=function(e){return Object(A.jsx)("div",{className:"dashboard__nav",children:Object(A.jsxs)("nav",{className:"nav",children:[Object(A.jsx)(f.b,{to:"/dashboard",children:Object(A.jsx)("img",{src:"/assets/images/logo.svg",alt:"logo",className:"dashboard__logo"})}),Object(A.jsxs)("ul",{className:"nav__item-top",children:[Object(A.jsx)("li",{className:"nav__list-top",children:Object(A.jsx)(f.b,{to:"/profile/"+e.userIdMe,children:Object(A.jsx)("img",{src:"/assets/images/user.svg",alt:"user"})})}),Object(A.jsx)("li",{className:"nav__list-top",children:Object(A.jsx)(f.b,{to:"/friends",children:Object(A.jsx)("img",{src:"/assets/images/cube.svg",alt:"cube"})})}),Object(A.jsx)("li",{className:"nav__list-top",children:Object(A.jsx)(f.b,{to:"/dashboard",children:Object(A.jsx)("img",{src:"/assets/images/dashboard.svg",alt:"dashboard"})})}),Object(A.jsx)("li",{className:"nav__list-top",children:Object(A.jsx)(f.b,{to:"/dialogs",children:Object(A.jsx)("img",{src:"/assets/images/wallet.svg",alt:"wallet"})})}),Object(A.jsx)("li",{className:"nav__list-top",children:Object(A.jsx)(f.b,{to:"/users",children:Object(A.jsx)("img",{src:"/assets/images/charts.svg",alt:"charts"})})})]}),Object(A.jsx)("ul",{className:"nav__item-bottom",children:Object(A.jsx)(k,{isAuth:e.isAuth,login:e.login})})]})})},E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(A.jsx)(T,Object(j.a)({},this.props))}}]),n}(r.a.Component),L=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,userIdMe:e.auth.userId}}),{getAuth:F})(E),D=function(e){return Object(A.jsx)("div",{class:"dashboard__body",children:Object(A.jsxs)("div",{class:"dashboard__header",children:[Object(A.jsx)("h1",{class:"header-title",children:"Overview"}),Object(A.jsxs)("div",{class:"header-activity",children:[Object(A.jsx)("button",{class:"header-btn",children:Object(A.jsx)("img",{src:"assets/images/search.svg",alt:"icon: search"})}),Object(A.jsx)("button",{class:"header-btn header-btn--new",children:Object(A.jsx)("img",{src:"assets/images/bell.svg",alt:"icon: notification"})}),Object(A.jsxs)("div",{class:"user-profile",children:[Object(A.jsx)(f.b,{to:"/",class:"user-profile__avatar",children:Object(A.jsx)("img",{src:"assets/images/avatar.png",alt:"avatar"})}),Object(A.jsxs)("button",{class:"user-profile__nav-btn",children:[Object(A.jsx)("span",{class:"user-profile__nav-name",children:"Zoia M."}),Object(A.jsx)("img",{src:"assets/images/arrow-down.svg",alt:"icon:arrow",class:"user-profile__nav-arrow"})]})]})]})]})})},z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(A.jsx)(D,{})}}]),n}(r.a.Component),R=Object(b.b)((function(e){return{}}),{})(z),G=n(13),B=n.n(G),J=function(e){return Object(A.jsxs)(f.b,{className:"friend",to:"/friend/".concat(e.id),children:[Object(A.jsx)("img",{width:"100",src:e.avatar,alt:"avatar"}),Object(A.jsxs)("h2",{children:[e.name," ",e.fname]})]})},q=function(e){var t=e.friends.map((function(e){return Object(A.jsx)(J,{name:e.name,fname:e.fname,avatar:e.avatar,id:e.id},e.id)}));return Object(A.jsx)("section",{className:"friends",children:Object(A.jsx)("div",{className:"friendsList",children:t})})},K=Object(b.b)((function(e){return{friends:e.friendsPage.friends}}))(q),Y=function(){return Object(A.jsxs)("section",{className:B.a.dialogs,children:[Object(A.jsx)("h1",{className:B.a.title,children:"\u041c\u043e\u0438 \u0414\u0440\u0443\u0437\u044c\u044f"}),Object(A.jsx)("div",{className:B.a.content,children:Object(A.jsx)(K,{})})]})},W=n(67),Z="ADD-MESSAGE",H={friends:[{id:"1",fName:"sadsad",messages:[{message:"1"},{message:"2"}]},{id:"2",fName:"\u044b\u0444\u0432\u0444\u044b\u0432",messages:[{message:"\u0422\u0432"},{message:"\u0444\u044b\u0432\u0444\u044b\u0432"}]}]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:if(""!==e.newMessageText){var n={message:t.newMessageText};return Object(j.a)(Object(j.a)({},e),{},{friends:Object(W.a)(e.friends.map((function(e){return e.id===t.id?(e.messages.push(n),Object(j.a)({},e)):e})))})}return e;default:return e}},V=n(12),X=n(121),$=n(122),ee=function(e){if(!e)return"Field is required"},te=n(91),ne=n(29),se=n.n(ne),ae=["input","meta"],re=["input","meta"],ie=function(e){var t=e.input,n=e.meta,s=Object(te.a)(e,ae),a=n.touched&&n.error;return Object(A.jsxs)("div",{className:se.a.formControl+(a&&" "+se.a.error),children:[Object(A.jsx)("textarea",Object(j.a)(Object(j.a)({},t),s)),a&&Object(A.jsx)("span",{className:se.a.errTextarea,children:n.error})]})},ce=function(e){var t=e.input,n=e.meta,s=Object(te.a)(e,re),a=n.touched&&n.error;return Object(A.jsxs)("div",{className:se.a.formControl+(a&&" "+se.a.error),children:[Object(A.jsx)("input",Object(j.a)(Object(j.a)({},t),s)),a&&Object(A.jsx)("span",{className:se.a.errInput,children:n.error})]})},oe=function(e){return e.messages.map((function(e){return Object(A.jsx)(le,{message:e.message})}))},le=function(e){return Object(A.jsx)("div",{className:B.a.myMessage,children:e.message})},ue=(s=100,function(e){if(e.length>s)return"Max length is ".concat(s," symbols")}),de=Object($.a)({form:"MessangerForm"})((function(e){return Object(A.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(A.jsx)(X.a,{className:B.a.textarea,value:e.newMessageText,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",component:ie,name:"newMessageText",validate:[ee,ue]}),Object(A.jsx)("button",{className:B.a.btn,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),je=function(e){var t=e.friendId,n=e.friend.map((function(e){return Object(A.jsx)(oe,{messages:e.messages})}));return Object(A.jsxs)("div",{className:B.a.chat,children:[Object(A.jsx)("div",{className:B.a.message,children:n}),Object(A.jsx)("div",{className:B.a.actionMessage,children:Object(A.jsx)(de,{onSubmit:function(n){e.sendMessageClick(t,n.newMessageText)}})})]})},be=function(e){return Object(A.jsx)("li",{className:B.a.list__item,children:Object(A.jsxs)(f.b,{to:"/dialogs/"+e.id,className:B.a.list__item__link,children:[e.name," ",e.fname]})})},fe=function(e){var t=e.friends.map((function(e){return Object(A.jsx)(be,{fname:e.fName,id:e.id})})),n=e.friends.filter((function(t){return t.id===e.friendId}));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("ul",{className:B.a.list,children:t}),Object(A.jsx)(je,{sendMessageClick:e.sendMessageClick,newMessageChange:e.newMessage,newMessageText:e.newMessageText,friend:n,friendId:e.friendId})]})},he=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.match.params.friendId;return e||(e=""),Object(A.jsxs)("section",{className:B.a.dialogs,children:[Object(A.jsx)("h1",{className:B.a.title,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),Object(A.jsxs)("div",{className:B.a.content,children:[Object(A.jsx)(fe,Object(j.a)(Object(j.a)({},this.props),{},{friendId:e})),";"]})]})}}]),n}(r.a.Component),pe=Object(b.b)((function(e){return{friends:e.dialogPage.friends}}),{sendMessageClick:function(e,t){return{type:"ADD-MESSAGE",id:e,newMessageText:t}}})(Object(V.f)(he)),me="FOLLOW",Oe="UNFOLLOW",ge="SET-USERS",_e="SET-CURRENT-PAGE",xe="SET-TOTAL-USERS-COUNT",ve="TOGGLE-IS-FETCHING",Ne="TOGGLE-FOLLOWING-PROGRESS",we={users:[],pageSize:4,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Ce=function(e){return{type:ve,isFetching:e}},Pe=function(e,t){return{type:Ne,isFetching:e,userId:t}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case Oe:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case ge:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case _e:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case xe:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalCount});case ve:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case Ne:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(W.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ye=function(e){return e.usersPage.users},Ie=function(e){return e.usersPage.pageSize},Me=function(e){return e.usersPage.totalUsersCount},Fe=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Ae=function(e){return e.usersPage.followingInProgress},ke=n(25),Te=n.n(ke),Ee=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var a=e.currentPage;return Object(A.jsxs)("div",{className:Te.a.users,children:[e.users.map((function(t){return Object(A.jsxs)("div",{className:Te.a.user,children:[Object(A.jsxs)("div",{className:Te.a.user__left,children:[Object(A.jsx)(f.b,{to:"/profile/".concat(t.id),children:Object(A.jsx)("img",{className:Te.a.user__avatar,src:null!=t.photos.small?t.photos.small:"https://via.placeholder.com/90",alt:"avatar"})}),Object(A.jsx)("div",{children:t.followed?Object(A.jsx)("button",{className:Te.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(A.jsx)("button",{className:Te.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(A.jsxs)("div",{className:Te.a.user__info,children:[Object(A.jsx)("div",{className:Te.a.fullname,children:t.name}),Object(A.jsx)("div",{children:t.status}),Object(A.jsx)("div",{children:'"u.location.country"'}),Object(A.jsx)("div",{children:'"u.location.city"'})]})]},t.id)})),Object(A.jsx)("div",{className:Te.a.center,children:n.map((function(t){return t<a+3&&t>a-3||1===t||t===n.length?Object(A.jsx)("button",{className:Te.a.btn__page,onClick:function(){e.onPageChanged(t)},children:t},t):Object(A.jsx)(A.Fragment,{})}))})]})},Le=n(89),De=n.n(Le),ze=n.p+"static/media/preloader.f73779b8.svg",Re=function(e){return Object(A.jsx)(A.Fragment,{children:e.isFetching?Object(A.jsx)("div",{className:De.a.preloader__bg,children:Object(A.jsx)("img",{className:De.a.preloader,src:ze,alt:"preloader"})}):null})},Ge=n(11),Be=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(e.props.pageSize,t)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Re,{isFetching:this.props.isFetching}),Object(A.jsx)(Ee,Object(j.a)(Object(j.a)({},this.props),{},{onPageChanged:this.onPageChanged})),";"]})}}]),n}(r.a.Component),Je=Object(Ge.d)(Object(b.b)((function(e){return{users:ye(e),pageSize:Ie(e),totalUsersCount:Me(e),currentPage:Fe(e),isFetching:Ue(e),followingInProgress:Ae(e)}}),{requestUsers:function(e,t){return function(n){n(Ce(!0)),_(e,t).then((function(e){var t;n(Ce(!1)),n(function(e){return{type:ge,users:e}}(e.items)),n((t=e.totalCount,{type:xe,totalCount:t}))}))}},setCurrentPage:function(e){return{type:_e,currentPage:e}},follow:function(e){return function(t){t(Pe(!0,e)),v(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:me,userId:e}}(e)),t(Pe(!1,e))}))}},unfollow:function(e){return function(t){t(Pe(!0,e)),N(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:Oe,userId:e}}(e)),t(Pe(!1,e))}))}}}))(Be),qe="SET-USER-PROFILE",Ke="SET-USER-STATUS",Ye={profile:null,status:null,aboutMe:""},We=function(e){return{type:Ke,status:e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(j.a)(Object(j.a)({},e),{},{profile:t.userProfile});case Ke:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});default:return e}},He=n(28),Qe=n.n(He),Ve=n(90),Xe=function(e){var t=Object(a.useState)(!1),n=Object(Ve.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(e.status),c=Object(Ve.a)(i,2),o=c[0],l=c[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(A.jsxs)("div",{children:[!s&&Object(A.jsx)("div",{children:Object(A.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status?o:"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0432\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441"})}),s&&Object(A.jsx)("div",{children:Object(A.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:o,onBlur:function(){r(!1),e.updateUserStatus(o)}})})]})},$e=function(e){if(!e.profile)return Object(A.jsx)(Re,{isFetching:e.isFetching});var t=e.profile.contacts;return Object(A.jsx)("div",{className:Qe.a.profile,children:Object(A.jsxs)("div",{className:Qe.a.profile__user,children:[Object(A.jsx)("img",{src:null===e.profile.photos.large?"https://via.placeholder.com/300":e.profile.photos.large,alt:"avatar",className:Qe.a.avatar}),Object(A.jsx)("div",{className:Qe.a.status,children:Object(A.jsx)(Xe,{status:e.status,updateUserStatus:e.updateUserStatus})}),Object(A.jsxs)("div",{className:Qe.a.contact,children:[Object(A.jsx)("h1",{children:"Contacts"}),Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{children:[null!==t.facebook?t.facebook:""," "]}),Object(A.jsx)("p",{children:null!==t.github?t.github:""}),Object(A.jsx)("p",{children:null!==t.instagram?t.instagram:""}),Object(A.jsx)("p",{children:null!==t.mainLink?t.mainLink:""}),Object(A.jsx)("p",{children:null!==t.twitter?t.twitter:""}),Object(A.jsx)("p",{children:null!==t.vk?t.vk:""}),Object(A.jsx)("p",{children:null!==t.website?t.website:""}),Object(A.jsx)("p",{children:null!==t.youtube?t.youtube:""})]})]}),Object(A.jsx)("div",{className:Qe.a.fName,children:e.profile.fullName}),Object(A.jsx)("div",{className:Qe.a.job,children:e.profile.lookingForAJob?"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0435\u0442"}),Object(A.jsx)("div",{className:Qe.a.jobDescription,children:e.profile.lookingForAJobDescription}),Object(A.jsx)("div",{className:Qe.a.aboutMe,children:e.profile.aboutMe})]})})},et=function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}},tt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userIdMe),this.props.getUserStatus(e),this.props.getUserProfile(e)}},{key:"render",value:function(){return this.props.isAuth?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,Object(j.a)({},this.props)),";"]}):Object(A.jsx)(V.a,{to:"/login"})}}]),n}(r.a.Component),nt=Object(Ge.d)(Object(b.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.usersPage.isFetching,status:e.profilePage.status,userIdMe:e.auth.userId}}),{toggleIsFetching:Ce,getUserProfile:function(e){return function(t){t(Ce(!0)),x(e).then((function(e){var n;t(Ce(!1)),t((n=e.data,{type:qe,userProfile:n}))}))}},getUserStatus:function(e){return function(t){S.getUserStatus(e).then((function(e){t(We(e.data))}))}},updateUserStatus:function(e){return function(t){S.updateUserStatus(e).then((function(n){0===n.data.resultCode&&t(We(e))}))}}}),V.f,(function(e){var t=function(t){Object(u.a)(s,t);var n=Object(d.a)(s);function s(){return Object(o.a)(this,s),n.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(A.jsx)(e,Object(j.a)({},this.props)):Object(A.jsx)(V.a,{to:"/login"})}}]),s}(r.a.Component);return Object(b.b)(et)(t)}))(tt),st=n(34),at=n.n(st),rt=Object($.a)({form:"login"})((function(e){return Object(A.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(A.jsx)("div",{className:se.a.formSummaryError,children:e.error}),Object(A.jsx)("div",{className:at.a.title,children:"\u041b\u043e\u0433\u0438\u043d"}),Object(A.jsx)(X.a,{className:at.a.loginInput,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",name:"email",component:ce,validate:[ee]}),Object(A.jsx)("div",{className:at.a.title,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(A.jsx)(X.a,{className:at.a.passwordInput,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",component:ce,validate:[ee]}),Object(A.jsx)(X.a,{type:"checkbox",component:"input",name:"rememberMe"}),"remember me",Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{className:at.a.btn,children:"\u0412\u0445\u043e\u0434"}),Object(A.jsx)("button",{className:at.a.btn,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})),it=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(s){C(e,t,n).then((function(e){if(0===e.data.resultCode)s(F());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";s(Object(m.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(A.jsx)(V.a,{to:"/profile"}):Object(A.jsx)("div",{className:at.a.auth,children:Object(A.jsx)(rt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),ct="INITIALIZED-SUCCESS",ot={initialized:!1},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},ut=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(A.jsxs)("div",{className:"dashboard",children:[Object(A.jsx)(L,{}),Object(A.jsx)(V.b,{path:"/dialogs/:friendId?",render:function(){return Object(A.jsx)(pe,{})}}),Object(A.jsx)(V.b,{path:"/friends",render:function(){return Object(A.jsx)(Y,{})}}),Object(A.jsx)(V.b,{path:"/dashboard",render:function(){return Object(A.jsx)(R,{})}}),Object(A.jsx)(V.b,{path:"/users",render:function(){return Object(A.jsx)(Je,{})}}),Object(A.jsx)(V.b,{path:"/profile/:userId?",render:function(){return Object(A.jsx)(nt,{})}}),Object(A.jsx)(V.b,{path:"/login",render:function(){return Object(A.jsx)(it,{})}})]}):Object(A.jsx)(Re,{isFetching:"true"})}}]),n}(r.a.Component),dt=Object(b.b)((function(e){return{initialized:e.app.initialized,isFetching:e.usersPage.isFetching}}),{initializeApp:function(){return function(e){var t=e(F());Promise.all([t]).then((function(){e({type:ct})}))}}})(ut),jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))},bt={friends:[{name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id1"},{name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id3"},{name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id2"},{name:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id4"},{name:"\u0421\u0435\u0440\u0433\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id5"},{name:"\u0410\u043d\u0434\u0440\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id6"},{name:"\u041a\u0438\u0440\u0438\u043b\u043b",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id7"},{name:"\u0412\u0438\u043a\u0442\u043e\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id8"},{name:"\u041c\u0430\u043a\u0441\u0438\u043c",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id9"},{name:"\u0410\u043d\u0442\u043e\u043d",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id10"}]},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return e},ht=n(126),pt=n(123),mt=Object(Ge.c)({dialogPage:Q,friendsPage:ft,usersPage:Se,profilePage:Ze,auth:U,app:lt,form:pt.a}),Ot=Object(Ge.e)(mt,Object(Ge.a)(ht.a));window.store=Ot;var gt=Ot;c.a.render(Object(A.jsx)(f.a,{children:Object(A.jsx)(b.a,{store:gt,children:Object(A.jsx)(dt,{})})}),document.getElementById("root")),jt()},29:function(e,t,n){e.exports={formControl:"formsControls_formControl__34z4-",error:"formsControls_error__15aac",errTextarea:"formsControls_errTextarea__2PRqx",errInput:"formsControls_errInput__2AP47",formSummaryError:"formsControls_formSummaryError__1hhZN"}},34:function(e,t,n){e.exports={auth:"auth_auth__3jxET",loginInput:"auth_loginInput__1UlLO",passwordInput:"auth_passwordInput__-fAw6",title:"auth_title__3G11G",btn:"auth_btn__3T8U9"}},89:function(e,t,n){e.exports={preloader__bg:"preloaders_preloader__bg__36pcB",preloader:"preloaders_preloader__UmFC4"}}},[[280,1,2]]]);
//# sourceMappingURL=main.54f14d4a.chunk.js.map