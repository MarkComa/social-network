(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{13:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__2c_cb",content:"dialogs_content__3rql3",title:"dialogs_title__23b-z",list:"dialogs_list__1tkk1",list__item:"dialogs_list__item__2zZBy",list__item__link:"dialogs_list__item__link__3xUBC",chat:"dialogs_chat__2mM-4",message:"dialogs_message__iNPk2",myMessage:"dialogs_myMessage__2gBww",incomingMessage:"dialogs_incomingMessage__1JmFW",actionMessage:"dialogs_actionMessage__3Tywf",textarea:"dialogs_textarea__1jjH7",btn:"dialogs_btn__3uUlh"}},158:function(e,t,n){},159:function(e,t,n){},26:function(e,t,n){e.exports={users:"users_users__1hMlI",user:"users_user__2tkfC",user__left:"users_user__left__2Fe6-",user__info:"users_user__info__2l_BC",user__avatar:"users_user__avatar__NNDdq",btn:"users_btn__2PSEn",btn__page:"users_btn__page__w2O-a",fullname:"users_fullname__-Qozy",center:"users_center__1EA1V"}},283:function(e,t,n){"use strict";n.r(t);var a,s=n(1),r=n.n(s),c=n(65),i=n.n(c),o=(n(158),n(15)),u=n(16),l=n(18),d=n(17),j=(n(159),n(4)),b=n(9),f=n(10),h=n.p+"static/media/login.a0b70e93.svg",p=n.p+"static/media/logout.c2dce12f.svg",m=n(20),O=n.n(m),g=n(35),_=n(47),x=n(126),v=n.n(x).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"2d1a9782-1c79-4a80-ad06-fb14119baa7e"}}),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return v.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},w=function(e){return M.getUsersProfile(e)},y=function(e){return v.post("follow/".concat(e))},C=function(e){return v.delete("follow/".concat(e))},I=function(){return v.get("auth/me")},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v.post("auth/login",{email:e,password:t,rememberMe:n})},P=function(){return v.delete("auth/login")},M={getUsersProfile:function(e){return v.get("profile/".concat(e))},getUserStatus:function(e){return v.get("profile/status/".concat(e))},updateUserStatus:function(e){return v.put("profile/status",{status:e})}},k="SET-AUTH-USER-DATA",F={userId:null,login:null,email:null,isAuth:!1},U=function(e,t,n,a){return{type:k,payload:{userId:e,login:t,email:n,isAuth:a}}},A=function(){return function(){var e=Object(g.a)(O.a.mark((function e(t){var n,a,s,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,s=a.id,r=a.login,c=a.email,t(U(s,r,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},E=n(0),L=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0===e.sent.data.resultCode&&t(U(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(E.jsx)("div",{children:e.isAuth?Object(E.jsxs)("button",{onClick:e.logout,children:[Object(E.jsx)("img",{src:p,alt:"\u0412\u044b\u0445\u043e\u0434"}),Object(E.jsx)("div",{children:e.login})]}):Object(E.jsxs)("button",{children:[Object(E.jsx)("img",{src:h,alt:"\u0412\u0445\u043e\u0434"}),Object(E.jsx)("div",{children:"\u0412\u0445\u043e\u0434"})]})})})),D=n.p+"static/media/logo.2d178e6a.svg",z=n.p+"static/media/user.302723fc.svg",R=n.p+"static/media/cube.4b6277f3.svg",G=n.p+"static/media/dashboard.c49de1b2.svg",B=n.p+"static/media/charts.4ef5f06d.svg",q=n.p+"static/media/wallet.9c887168.svg",J=function(e){return Object(E.jsx)("div",{className:"dashboard__nav",children:Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(f.b,{to:"/dashboard",children:Object(E.jsx)("img",{src:D,alt:"logo",className:"dashboard__logo"})}),Object(E.jsxs)("ul",{className:"nav__item-top",children:[Object(E.jsx)("li",{className:"nav__list-top",children:Object(E.jsx)(f.b,{to:"/profile/"+e.userIdMe,children:Object(E.jsx)("img",{src:z,alt:"user"})})}),Object(E.jsx)("li",{className:"nav__list-top",children:Object(E.jsx)(f.b,{to:"/friends",children:Object(E.jsx)("img",{src:R,alt:"cube"})})}),Object(E.jsx)("li",{className:"nav__list-top",children:Object(E.jsx)(f.b,{to:"/dashboard",children:Object(E.jsx)("img",{src:G,alt:"dashboard"})})}),Object(E.jsx)("li",{className:"nav__list-top",children:Object(E.jsx)(f.b,{to:"/dialogs",children:Object(E.jsx)("img",{src:q,alt:"wallet"})})}),Object(E.jsx)("li",{className:"nav__list-top",children:Object(E.jsx)(f.b,{to:"/users",children:Object(E.jsx)("img",{src:B,alt:"charts"})})})]}),Object(E.jsx)("ul",{className:"nav__item-bottom",children:Object(E.jsx)(L,{isAuth:e.isAuth,login:e.login})})]})})},W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsx)(J,Object(j.a)({},this.props))}}]),n}(r.a.Component),H=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,userIdMe:e.auth.userId}}),{getAuth:A})(W),K=function(e){return Object(E.jsx)("div",{class:"dashboard__body",children:Object(E.jsxs)("div",{class:"dashboard__header",children:[Object(E.jsx)("h1",{class:"header-title",children:"Overview"}),Object(E.jsxs)("div",{class:"header-activity",children:[Object(E.jsx)("button",{class:"header-btn",children:Object(E.jsx)("img",{src:"assets/images/search.svg",alt:"icon: search"})}),Object(E.jsx)("button",{class:"header-btn header-btn--new",children:Object(E.jsx)("img",{src:"assets/images/bell.svg",alt:"icon: notification"})}),Object(E.jsxs)("div",{class:"user-profile",children:[Object(E.jsx)(f.b,{to:"/",class:"user-profile__avatar",children:Object(E.jsx)("img",{src:"assets/images/avatar.png",alt:"avatar"})}),Object(E.jsxs)("button",{class:"user-profile__nav-btn",children:[Object(E.jsx)("span",{class:"user-profile__nav-name",children:"Zoia M."}),Object(E.jsx)("img",{src:"assets/images/arrow-down.svg",alt:"icon:arrow",class:"user-profile__nav-arrow"})]})]})]})]})})},Z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(E.jsx)(K,{})}}]),n}(r.a.Component),Q=Object(b.b)((function(e){return{}}),{})(Z),Y=n(13),V=n.n(Y),X=function(e){return Object(E.jsxs)(f.b,{className:"friend",to:"/friend/".concat(e.id),children:[Object(E.jsx)("img",{width:"100",src:e.avatar,alt:"avatar"}),Object(E.jsxs)("h2",{children:[e.name," ",e.fname]})]})},$=function(e){var t=e.friends.map((function(e){return Object(E.jsx)(X,{name:e.name,fname:e.fname,avatar:e.avatar,id:e.id},e.id)}));return Object(E.jsx)("section",{className:"friends",children:Object(E.jsx)("div",{className:"friendsList",children:t})})},ee=Object(b.b)((function(e){return{friends:e.friendsPage.friends}}))($),te=function(){return Object(E.jsxs)("section",{className:V.a.dialogs,children:[Object(E.jsx)("h1",{className:V.a.title,children:"\u041c\u043e\u0438 \u0414\u0440\u0443\u0437\u044c\u044f"}),Object(E.jsx)("div",{className:V.a.content,children:Object(E.jsx)(ee,{})})]})},ne=n(69),ae="ADD-MESSAGE",se={friends:[{id:"1",fName:"sadsad",messages:[{message:"1"},{message:"2"}]},{id:"2",fName:"\u044b\u0444\u0432\u0444\u044b\u0432",messages:[{message:"\u0422\u0432"},{message:"\u0444\u044b\u0432\u0444\u044b\u0432"}]}]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:if(""!==e.newMessageText){var n={message:t.newMessageText};return Object(j.a)(Object(j.a)({},e),{},{friends:Object(ne.a)(e.friends.map((function(e){return e.id===t.id?(e.messages.push(n),Object(j.a)({},e)):e})))})}return e;default:return e}},ce=n(12),ie=n(123),oe=n(124),ue=function(e){if(!e)return"Field is required"},le=n(93),de=n(30),je=n.n(de),be=["input","meta"],fe=["input","meta"],he=function(e){var t=e.input,n=e.meta,a=Object(le.a)(e,be),s=n.touched&&n.error;return Object(E.jsxs)("div",{className:je.a.formControl+(s&&" "+je.a.error),children:[Object(E.jsx)("textarea",Object(j.a)(Object(j.a)({},t),a)),s&&Object(E.jsx)("span",{className:je.a.errTextarea,children:n.error})]})},pe=function(e){var t=e.input,n=e.meta,a=Object(le.a)(e,fe),s=n.touched&&n.error;return Object(E.jsxs)("div",{className:je.a.formControl+(s&&" "+je.a.error),children:[Object(E.jsx)("input",Object(j.a)(Object(j.a)({},t),a)),s&&Object(E.jsx)("span",{className:je.a.errInput,children:n.error})]})},me=function(e){return e.messages.map((function(e){return Object(E.jsx)(Oe,{message:e.message})}))},Oe=function(e){return Object(E.jsx)("div",{className:V.a.myMessage,children:e.message})},ge=(a=100,function(e){if(e.length>a)return"Max length is ".concat(a," symbols")}),_e=Object(oe.a)({form:"MessangerForm"})((function(e){return Object(E.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(E.jsx)(ie.a,{className:V.a.textarea,value:e.newMessageText,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",component:he,name:"newMessageText",validate:[ue,ge]}),Object(E.jsx)("button",{className:V.a.btn,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),xe=function(e){var t=e.friendId,n=e.friend.map((function(e){return Object(E.jsx)(me,{messages:e.messages})}));return Object(E.jsxs)("div",{className:V.a.chat,children:[Object(E.jsx)("div",{className:V.a.message,children:n}),Object(E.jsx)("div",{className:V.a.actionMessage,children:Object(E.jsx)(_e,{onSubmit:function(n){e.sendMessageClick(t,n.newMessageText)}})})]})},ve=function(e){return Object(E.jsx)("li",{className:V.a.list__item,children:Object(E.jsxs)(f.b,{to:"/dialogs/"+e.id,className:V.a.list__item__link,children:[e.name," ",e.fname]})})},Ne=function(e){var t=e.friends.map((function(e){return Object(E.jsx)(ve,{fname:e.fName,id:e.id})})),n=e.friends.filter((function(t){return t.id===e.friendId}));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("ul",{className:V.a.list,children:t}),Object(E.jsx)(xe,{sendMessageClick:e.sendMessageClick,newMessageChange:e.newMessage,newMessageText:e.newMessageText,friend:n,friendId:e.friendId})]})},we=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.match.params.friendId;return e||(e=""),Object(E.jsxs)("section",{className:V.a.dialogs,children:[Object(E.jsx)("h1",{className:V.a.title,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),Object(E.jsxs)("div",{className:V.a.content,children:[Object(E.jsx)(Ne,Object(j.a)(Object(j.a)({},this.props),{},{friendId:e})),";"]})]})}}]),n}(r.a.Component),ye=Object(b.b)((function(e){return{friends:e.dialogPage.friends}}),{sendMessageClick:function(e,t){return{type:"ADD-MESSAGE",id:e,newMessageText:t}}})(Object(ce.f)(we)),Ce="FOLLOW",Ie="UNFOLLOW",Se="SET-USERS",Pe="SET-CURRENT-PAGE",Me="SET-TOTAL-USERS-COUNT",ke="TOGGLE-IS-FETCHING",Fe="TOGGLE-FOLLOWING-PROGRESS",Ue={users:[],pageSize:4,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Ae=function(e){return{type:ke,isFetching:e}},Te=function(e,t){return{type:Fe,isFetching:e,userId:t}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case Ie:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case Se:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case Pe:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case Me:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalCount});case ke:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case Fe:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(ne.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Le=function(e){return e.usersPage.users},De=function(e){return e.usersPage.pageSize},ze=function(e){return e.usersPage.totalUsersCount},Re=function(e){return e.usersPage.currentPage},Ge=function(e){return e.usersPage.isFetching},Be=function(e){return e.usersPage.followingInProgress},qe=n(26),Je=n.n(qe),We=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var s=e.currentPage;return Object(E.jsxs)("div",{className:Je.a.users,children:[e.users.map((function(t){return Object(E.jsxs)("div",{className:Je.a.user,children:[Object(E.jsxs)("div",{className:Je.a.user__left,children:[Object(E.jsx)(f.b,{to:"/profile/".concat(t.id),children:Object(E.jsx)("img",{className:Je.a.user__avatar,src:null!=t.photos.small?t.photos.small:"https://via.placeholder.com/90",alt:"avatar"})}),Object(E.jsx)("div",{children:t.followed?Object(E.jsx)("button",{className:Je.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(E.jsx)("button",{className:Je.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(E.jsxs)("div",{className:Je.a.user__info,children:[Object(E.jsx)("div",{className:Je.a.fullname,children:t.name}),Object(E.jsx)("div",{children:t.status}),Object(E.jsx)("div",{children:'"u.location.country"'}),Object(E.jsx)("div",{children:'"u.location.city"'})]})]},t.id)})),Object(E.jsx)("div",{className:Je.a.center,children:n.map((function(t){return t<s+3&&t>s-3||1===t||t===n.length?Object(E.jsx)("button",{className:Je.a.btn__page,onClick:function(){e.onPageChanged(t)},children:t},t):Object(E.jsx)(E.Fragment,{})}))})]})},He=n(91),Ke=n.n(He),Ze=n.p+"static/media/preloader.f73779b8.svg",Qe=function(e){return Object(E.jsx)(E.Fragment,{children:e.isFetching?Object(E.jsx)("div",{className:Ke.a.preloader__bg,children:Object(E.jsx)("img",{className:Ke.a.preloader,src:Ze,alt:"preloader"})}):null})},Ye=n(11),Ve=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(e.props.pageSize,t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Qe,{isFetching:this.props.isFetching}),Object(E.jsx)(We,Object(j.a)(Object(j.a)({},this.props),{},{onPageChanged:this.onPageChanged})),";"]})}}]),n}(r.a.Component),Xe=Object(Ye.d)(Object(b.b)((function(e){return{users:Le(e),pageSize:De(e),totalUsersCount:ze(e),currentPage:Re(e),isFetching:Ge(e),followingInProgress:Be(e)}}),{requestUsers:function(e,t){return function(n){n(Ae(!0)),N(e,t).then((function(e){var t;n(Ae(!1)),n(function(e){return{type:Se,users:e}}(e.items)),n((t=e.totalCount,{type:Me,totalCount:t}))}))}},setCurrentPage:function(e){return{type:Pe,currentPage:e}},follow:function(e){return function(t){t(Te(!0,e)),y(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:Ce,userId:e}}(e)),t(Te(!1,e))}))}},unfollow:function(e){return function(t){t(Te(!0,e)),C(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:Ie,userId:e}}(e)),t(Te(!1,e))}))}}}))(Ve),$e="SET-USER-PROFILE",et="SET-USER-STATUS",tt={profile:null,status:null,aboutMe:""},nt=function(e){return{type:et,status:e}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(j.a)(Object(j.a)({},e),{},{profile:t.userProfile});case et:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});default:return e}},st=n(29),rt=n.n(st),ct=n(92),it=function(e){var t=Object(s.useState)(!1),n=Object(ct.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(e.status),i=Object(ct.a)(c,2),o=i[0],u=i[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(E.jsxs)("div",{children:[!a&&Object(E.jsx)("div",{children:Object(E.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status?o:"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0432\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441"})}),a&&Object(E.jsx)("div",{children:Object(E.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:o,onBlur:function(){r(!1),e.updateUserStatus(o)}})})]})},ot=function(e){if(!e.profile)return Object(E.jsx)(Qe,{isFetching:e.isFetching});var t=e.profile.contacts;return Object(E.jsx)("div",{className:rt.a.profile,children:Object(E.jsxs)("div",{className:rt.a.profile__user,children:[Object(E.jsx)("img",{src:null===e.profile.photos.large?"https://via.placeholder.com/300":e.profile.photos.large,alt:"avatar",className:rt.a.avatar}),Object(E.jsx)("div",{className:rt.a.status,children:Object(E.jsx)(it,{status:e.status,updateUserStatus:e.updateUserStatus})}),Object(E.jsxs)("div",{className:rt.a.contact,children:[Object(E.jsx)("h1",{children:"Contacts"}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{children:[null!==t.facebook?t.facebook:""," "]}),Object(E.jsx)("p",{children:null!==t.github?t.github:""}),Object(E.jsx)("p",{children:null!==t.instagram?t.instagram:""}),Object(E.jsx)("p",{children:null!==t.mainLink?t.mainLink:""}),Object(E.jsx)("p",{children:null!==t.twitter?t.twitter:""}),Object(E.jsx)("p",{children:null!==t.vk?t.vk:""}),Object(E.jsx)("p",{children:null!==t.website?t.website:""}),Object(E.jsx)("p",{children:null!==t.youtube?t.youtube:""})]})]}),Object(E.jsx)("div",{className:rt.a.fName,children:e.profile.fullName}),Object(E.jsx)("div",{className:rt.a.job,children:e.profile.lookingForAJob?"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0435\u0442"}),Object(E.jsx)("div",{className:rt.a.jobDescription,children:e.profile.lookingForAJobDescription}),Object(E.jsx)("div",{className:rt.a.aboutMe,children:e.profile.aboutMe})]})})},ut=function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}},lt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userIdMe),this.props.getUserStatus(e),this.props.getUserProfile(e)}},{key:"render",value:function(){return this.props.isAuth?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ot,Object(j.a)({},this.props)),";"]}):Object(E.jsx)(ce.a,{to:"/login"})}}]),n}(r.a.Component),dt=Object(Ye.d)(Object(b.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.usersPage.isFetching,status:e.profilePage.status,userIdMe:e.auth.userId}}),{toggleIsFetching:Ae,getUserProfile:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ae(!0)),t.next=3,w(e);case 3:a=t.sent,n(Ae(!1)),n((s=a.data,{type:$e,userProfile:s}));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getUserStatus(e);case 2:a=t.sent,n(nt(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.updateUserStatus(e);case 2:0===t.sent.data.resultCode&&n(nt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ce.f,(function(e){var t=function(t){Object(l.a)(a,t);var n=Object(d.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(E.jsx)(e,Object(j.a)({},this.props)):Object(E.jsx)(ce.a,{to:"/login"})}}]),a}(r.a.Component);return Object(b.b)(ut)(t)}))(lt),jt=n(36),bt=n.n(jt),ft=Object(oe.a)({form:"login"})((function(e){return Object(E.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(E.jsx)("div",{className:je.a.formSummaryError,children:e.error}),Object(E.jsx)("div",{className:bt.a.title,children:"\u041b\u043e\u0433\u0438\u043d"}),Object(E.jsx)(ie.a,{className:bt.a.loginInput,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",name:"email",component:pe,validate:[ue]}),Object(E.jsx)("div",{className:bt.a.title,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(E.jsx)(ie.a,{className:bt.a.passwordInput,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",component:pe,validate:[ue]}),Object(E.jsx)(ie.a,{type:"checkbox",component:"input",name:"rememberMe"}),"remember me",Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:bt.a.btn,children:"\u0412\u0445\u043e\u0434"}),Object(E.jsx)("button",{className:bt.a.btn,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})),ht=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(g.a)(O.a.mark((function a(s){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S(e,t,n);case 2:0===(r=a.sent).data.resultCode?s(A()):(c=r.data.messages.length>0?r.data.messages[0]:"Some error",s(Object(_.a)("login",{_error:c})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(E.jsx)(ce.a,{to:"/profile"}):Object(E.jsx)("div",{className:bt.a.auth,children:Object(E.jsx)(ft,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),pt="INITIALIZED-SUCCESS",mt={initialized:!1},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},gt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(E.jsxs)("div",{className:"dashboard",children:[Object(E.jsx)(H,{}),Object(E.jsx)(ce.b,{path:"/dialogs/:friendId?",render:function(){return Object(E.jsx)(ye,{})}}),Object(E.jsx)(ce.b,{path:"/friends",render:function(){return Object(E.jsx)(te,{})}}),Object(E.jsx)(ce.b,{path:"/dashboard",render:function(){return Object(E.jsx)(Q,{})}}),Object(E.jsx)(ce.b,{path:"/users",render:function(){return Object(E.jsx)(Xe,{})}}),Object(E.jsx)(ce.b,{path:"/profile/:userId?",render:function(){return Object(E.jsx)(dt,{})}}),Object(E.jsx)(ce.b,{path:"/login",render:function(){return Object(E.jsx)(ht,{})}})]}):Object(E.jsx)(Qe,{isFetching:"true"})}}]),n}(r.a.Component),_t=Object(b.b)((function(e){return{initialized:e.app.initialized,isFetching:e.usersPage.isFetching}}),{initializeApp:function(){return function(e){var t=e(A());Promise.all([t]).then((function(){e({type:pt})}))}}})(gt),xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,284)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},vt={friends:[{name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id1"},{name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id3"},{name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id2"},{name:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id4"},{name:"\u0421\u0435\u0440\u0433\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id5"},{name:"\u0410\u043d\u0434\u0440\u0435\u0439",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id6"},{name:"\u041a\u0438\u0440\u0438\u043b\u043b",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id7"},{name:"\u0412\u0438\u043a\u0442\u043e\u0440",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id8"},{name:"\u041c\u0430\u043a\u0441\u0438\u043c",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id9"},{name:"\u0410\u043d\u0442\u043e\u043d",fname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",avatar:"https://via.placeholder.com/150",id:"id10"}]},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;return e},wt=n(128),yt=n(125),Ct=Object(Ye.c)({dialogPage:re,friendsPage:Nt,usersPage:Ee,profilePage:at,auth:T,app:Ot,form:yt.a}),It=Object(Ye.e)(Ct,Object(Ye.a)(wt.a));window.store=It;var St=It;i.a.render(Object(E.jsx)(f.a,{children:Object(E.jsx)(b.a,{store:St,children:Object(E.jsx)(_t,{})})}),document.getElementById("root")),xt()},29:function(e,t,n){e.exports={profile:"profile_profile__1TmxK",profile__user:"profile_profile__user__2MBio",avatar:"profile_avatar__2MWIQ",status:"profile_status__1mLXb",contact:"profile_contact__L4b8v",fName:"profile_fName__2Ub9C",job:"profile_job__2dTn-",jobDescription:"profile_jobDescription__1zoEY",aboutMe:"profile_aboutMe__paRFd"}},30:function(e,t,n){e.exports={formControl:"formsControls_formControl__I_Nu_",error:"formsControls_error__3eHnO",errTextarea:"formsControls_errTextarea__2Kkjp",errInput:"formsControls_errInput__33IRh",formSummaryError:"formsControls_formSummaryError__3gFob"}},36:function(e,t,n){e.exports={auth:"auth_auth__2Mlc5",loginInput:"auth_loginInput__3ajo0",passwordInput:"auth_passwordInput__hucDj",title:"auth_title__2AMFm",btn:"auth_btn__1Gem2"}},91:function(e,t,n){e.exports={preloader__bg:"preloaders_preloader__bg__3FRow",preloader:"preloaders_preloader__3sJBx"}}},[[283,1,2]]]);
//# sourceMappingURL=main.39dc035f.chunk.js.map